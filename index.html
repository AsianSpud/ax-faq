<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AXAPTA Invoice FAQs</title>

<style>
  html {
    scroll-behavior: smooth;
  }
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
    background: #fffaf9;
    color: #111827;
  }
  *, *::before, *::after { box-sizing: border-box; }

  :root {
    --bg: #fffaf9;
    --card: #ffffff;
    --text: #111827;
    --muted: #6b7280;
    --accent: #8b0000;
    --accent-soft: #b22222;
    --border: #e5e7eb;
    --shadow: 0 6px 20px rgba(0,0,0,0.08);
  }

  .page {
    max-width: 1100px;
    margin: 24px auto;
    padding: 0 16px 32px;
  }

  .header {
    margin-bottom: 16px;
  }
  .header h1 {
    margin: 0;
    font-size: 22px;
    color: var(--accent);
  }
  .header p {
    margin: 4px 0 0;
    font-size: 13px;
    color: var(--muted);
  }

  /* CONTROL CARD (search + dropdown) */
  .controls-card {
    background: var(--card);
    border-radius: 14px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    padding: 16px 18px 14px;
    margin-bottom: 18px;
  }
  .controls-grid {
    display: grid;
    grid-template-columns: 2fr 2fr;
    gap: 10px 14px;
  }
  .field label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    color: var(--muted);
    margin-bottom: 4px;
  }
  .field input,
  .field select {
    width: 100%;
    padding: 9px 11px;
    border-radius: 999px;
    border: 1px solid var(--border);
    font-size: 13px;
    outline: none;
    background: #fdf7f5;
  }
  .field input:focus,
  .field select:focus {
    border-color: var(--accent-soft);
    box-shadow: 0 0 0 1px rgba(178,34,34,0.15);
  }

  .hint {
    margin-top: 8px;
    font-size: 11px;
    color: var(--muted);
  }

  /* SEARCH RESULTS LIST */
  .results {
    margin-top: 10px;
    border-top: 1px dashed var(--border);
    padding-top: 8px;
    font-size: 12px;
    color: var(--muted);
  }
  .results ul {
    list-style: none;
    margin: 4px 0 0;
    padding: 0;
  }
  .results li {
    margin-bottom: 4px;
  }
  .results button {
    background: transparent;
    border-radius: 999px;
    border: 1px solid var(--border);
    padding: 4px 9px;
    font-size: 12px;
    cursor: pointer;
    color: var(--accent);
  }
  .results button:hover {
    background: rgba(139,0,0,0.06);
    border-color: rgba(139,0,0,0.2);
  }

  /* FAQ ANSWER AREA */
  #faqContainer {
    margin-top: 8px;
  }
  .faq {
    display: none;
    background: var(--card);
    border-radius: 14px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    padding: 18px 20px 16px;
  }
  .faq.active {
    display: block;
  }
  .faq h2 {
    margin: 0 0 8px;
    font-size: 16px;
    color: var(--accent);
  }
  .faq p {
    margin: 4px 0;
    font-size: 13px;
    line-height: 1.5;
  }
  .faq img {
    width: 100%;
    max-width: 520px;
    border-radius: 10px;
    margin: 10px 0;
    box-shadow: 0 4px 16px rgba(0,0,0,0.25);
    display: block;
  }

  @media (max-width: 720px) {
    .controls-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>

<div class="page">
  <header class="header">
    <h1>AXAPTA Invoice Processing – FAQ</h1>
    <p>Quick reference for common AX invoice issues and IM-OCR interface behavior.</p>
  </header>

  <!-- CONTROLS: search + dropdown -->
  <section class="controls-card">
    <div class="controls-grid">
      <div class="field">
        <label for="searchInput">Search keywords</label>
        <input id="searchInput" type="search" placeholder="e.g. budget, GRN, material number, posting error">
      </div>
      <div class="field">
        <label for="faqSelect">Jump to a question</label>
        <select id="faqSelect">
          <option value="">Select FAQ…</option>
          <!-- options will be filled by JS from the FAQs below -->
        </select>
      </div>
    </div>
    <div class="hint">
      The search scans all questions and answers. Click a result to open the full article below.
    </div>
    <div id="searchResults" class="results">
      Type a keyword above to see matching FAQs.
    </div>
  </section>

  <!-- ANSWER AREA: all FAQs are here; JS shows only one at a time -->
  <section id="faqContainer">

    <!-- Q1 -->
    <article class="faq" data-id="q1">
      <h2>Where are validated invoices routed once they have been successfully exported from IM-OCR to AX?</h2>
      <p>Invoices that are successfully exported from IM-OCR will interface into AX through the following journals:</p>
      <p>• Invoice Journal for non-PO invoices<br>
         • Invoice Approval Journal for PO invoices</p>
      <!-- Image from GitHub (working) -->
      <img src="https://raw.githubusercontent.com/AsianSpud/ax-faq/main/1.PNG"
           alt="IM-OCR to AX routing screenshot">
    </article>

    <!-- Q2 -->
    <article class="faq" data-id="q2">
      <h2>What should I do if I accidentally cancelled an invoice in the Invoice Approval Journal?</h2>
      <p>To restore the invoice:</p>
      <p>1. Open the Invoice Approval Journal.<br>
         2. Select the invoice cancelled.<br>
         3. Click <strong>Lines</strong> then <strong>Remove voucher</strong>.<br>
         4. Confirm by selecting <strong>Yes</strong>.<br>
         5. Fetch voucher.<br>
         6. Click <strong>Select</strong> then <strong>OK</strong> to complete the process.</p>
      <!-- Pwede ka maglagay ng screenshot dito kung gusto mo -->
    </article>

    <!-- Q3 -->
    <article class="faq" data-id="q3">
      <h2>What does the error message “Insufficient information / Intercompany posting missing / Update canceled” mean in AX?</h2>
      <p>This error appears when AX is unable to post an invoice due to missing or incorrect data in the voucher. The Infolog may show messages such as:</p>
      <p>“Insufficient information in a line in voucher …” – Required fields (e.g., ledger account, offset account, or financial dimensions) are missing.</p>
      <p>“Intercompany posting with th91 missing.” – The intercompany setup is incomplete or a required dimension value (e.g., th91) is not defined or mapped correctly.</p>
      <p>“Journal has not been posted / Update has been canceled because of an error.” – AX stops the posting process because validation failed.</p>
      <p>To resolve these errors, ensure all mandatory fields and dimensions are populated. Check intercompany account mappings and required dimensions for the referenced value and correct any missing or invalid data. If the issue persists, please seek assistance from the AX support team.</p>
    </article>

    <!-- Q4 -->
    <article class="faq" data-id="q4">
      <h2>To whom should I coordinate if a “no budget” error occurs during invoice posting?</h2>
      <p>Coordinate with the Requestors or Marketing Coordinators so they can top up the budget. Once the budget has been updated, you can proceed to post the invoice.</p>
    </article>

    <!-- Q5 -->
    <article class="faq" data-id="q5">
      <h2>How do I handle an invoice in AX when the invoice amount is higher than the PO GRN amount?</h2>
      <p>Ask the requestor to create an additional Purchase Order (PO) for the excess amount. Once the additional PO number is provided, follow these steps:</p>
      <p>1. Go to the Invoice Approval Journal in AX.<br>
         2. Select <strong>Functions → Purchase Order</strong>.<br>
         3. Click the <strong>Select</strong> tab.<br>
         4. Tick the additional PO number.<br>
         5. Arrange the sequence as needed.<br>
         You can now post the invoice successfully.</p>
    </article>

    <!-- Q6 -->
    <article class="faq" data-id="q6">
      <h2>What does the error “Cannot create a record in Price (InventItemPrice). Item Number RBMENSYMVN006.” mean in AX?</h2>
      <p>This error indicates that AX is unable to create or update a price record for the specified item (RBMENSYMVN006) in the InventItemPrice table. Common causes include:</p>
      <p>• The item number does not exist or is inactive in the system.<br>
         • Required pricing setup (such as price groups or units of measure) is missing or incorrect.<br>
         • Insufficient user permissions to create or modify price records.</p>
      <p>To resolve this error, raise this to the AX support team as the finance team does not have sufficient access to investigate the item setup.</p>
    </article>

    <!-- Q7 -->
    <article class="faq" data-id="q7">
      <h2>The ledger account tagged in the PO is incorrect; how can I correct it during invoice posting?</h2>
      <p>To correct the ledger account during invoice posting:</p>
      <p>1. Go to the Invoice Approval Journal in AX.<br>
         2. Click <strong>Lines</strong> and select the invoice to post.<br>
         3. Navigate to the <strong>Information</strong> tab.<br>
         4. For Opex accounts, enter the correct ledger account in the <strong>Ledger Account</strong> field.<br>
         5. For A&amp;M, enter the correct ledger account in the <strong>Category</strong> field.</p>
    </article>

    <!-- Q8 -->
    <article class="faq" data-id="q8">
      <h2>What should I do if the PO dimension does not match the project master in AX?</h2>
      <p>If the dimensions set in the PO do not match the project master, requestors should:</p>
      <p>• Verify the project dimensions in the project master.<br>
         • Update the PO line with the correct project or financial dimensions to match the project master.<br>
         • Ensure that all required fields (Cost Center, Department, Project ID, etc.) are consistent.</p>
      <p>If the mismatch persists, raise the issue to the AX support team for assistance, as correcting project dimension setups may require administrative access.</p>
    </article>

    <!-- Q9 -->
    <article class="faq" data-id="q9">
      <h2>Where can I find an invoice exported from IM-OCR to AX if it does not appear in the Invoice Journal or Invoice Approval Journal?</h2>
      <p>If an invoice exported from IM-OCR does not appear in the Invoice Journal or Invoice Approval Journal, it may not have been successfully interfaced into AX. To locate it:</p>
      <p>• Check the Invoice Processing Log in AX to see the current status of the invoice.<br>
         – AP Invoice Processing Log – for Non-PO invoices<br>
         – PO Invoice Processing Log – for PO invoices</p>
      <p>• <strong>Created</strong> – The invoice has been generated but not yet posted.<br>
         • <strong>Failed</strong> – There was an error during the interface process.</p>
      <p>If the status shows <strong>Failed</strong>, identify the error details in the log and correct any missing or invalid information. Once the issue is resolved, the invoice can be re-processed.</p>
      <p>If the invoice still cannot be found, contact the AX support team for assistance.</p>
    </article>

    <!-- Q10 -->
    <article class="faq" data-id="q10">
      <h2>What should I do if the invoice cannot be posted in AX due to a closed period?</h2>
      <p>If the invoice cannot be posted because the period is closed:</p>
      <p>1. Check the posting date used for the invoice in AX.<br>
         2. Update the posting date to a date within an open period.<br>
         3. Attempt to post the invoice again after updating the date.</p>
    </article>

    <!-- Q11 -->
    <article class="faq" data-id="q11">
      <h2>How do I resolve the AX interface error “Line Item 1.00 – PO Number NPOXX-00XXX is invalid”?</h2>
      <p>This error appears when the PO number captured in IM-OCR does not match a valid PO in AX. To resolve it:</p>
      <p>• Verify the PO number in the invoice and ensure it matches exactly with the PO created in AX.<br>
         • Confirm that the PO exists in AX, is open, and has not been cancelled.</p>
      <p>If the PO number is correct but still returns an “invalid” error, the issue may be due to incorrect PO setup or missing data in AX. In such cases, escalate the issue to the AX support team, as system-side corrections may be required.</p>
      <p>To prevent this interface error in AX, the item number in IM-OCR has to be updated manually.</p>
    </article>

    <!-- Q12 -->
    <article class="faq" data-id="q12">
      <h2>How do I resolve a dimension error such as “Business Line/PRIN-PROD combination failing financial dimension” in AX?</h2>
      <p>This error occurs when the financial dimensions used in the PO line do not match a valid or allowed dimension combination in AX. To resolve it:</p>
      <p>1. Check the financial dimensions (e.g., Business Line, PRIN, Product, Cost Center) assigned to the line.<br>
         2. Verify whether the dimension combination is valid based on the defined dimension rules.<br>
         3. Update the dimension in the AX PO module with the correct combination.<br>
         4. Re-process the invoice from the Invoice Processing Log.</p>
    </article>

    <!-- Q13 -->
    <article class="faq" data-id="q13">
      <h2>How do I resolve the AX interface error “Material Number is invalid”?</h2>
      <p>To resolve this:</p>
      <p>• Verify the material/item number on the invoice and ensure it is correctly encoded in IM-OCR.<br>
         • Check if the item number exists and is active in AX.<br>
         • If the material number should be valid but still returns an error, the item master setup may be incomplete.</p>
      <p>During invoice validation, if you are unsure of the material number, leave the field blank to avoid this error.</p>
      <p>As the Finance team does not have access to modify item master data, raise this issue to the AX support team for validation and correction.</p>
    </article>

  </section>
</div>

<script>
  const faqElems = Array.from(document.querySelectorAll(".faq"));
  const selectEl = document.getElementById("faqSelect");
  const searchInput = document.getElementById("searchInput");
  const resultsBox = document.getElementById("searchResults");
  const faqContainer = document.getElementById("faqContainer");

  // Build dropdown options from FAQ titles
  faqElems.forEach(faq => {
    const id = faq.dataset.id;
    const title = faq.querySelector("h2").textContent.trim();
    const opt = document.createElement("option");
    opt.value = id;
    opt.textContent = title;
    selectEl.appendChild(opt);
  });

  function showFaq(id) {
    faqElems.forEach(faq => {
      faq.classList.toggle("active", faq.dataset.id === id);
    });
  }

  // Default: show first FAQ
  if (faqElems.length) {
    showFaq(faqElems[0].dataset.id);
    selectEl.value = faqElems[0].dataset.id;
  }

  // Change FAQ via dropdown
  selectEl.addEventListener("change", () => {
    if (!selectEl.value) return;
    showFaq(selectEl.value);
    faqContainer.scrollIntoView({ behavior: "smooth", block: "start" });
  });

  // Search across all FAQs
  searchInput.addEventListener("input", () => {
    const term = searchInput.value.trim().toLowerCase();
    resultsBox.innerHTML = "";

    if (!term) {
      resultsBox.textContent = "Type a keyword above to see matching FAQs.";
      return;
    }

    const matches = [];
    faqElems.forEach(faq => {
      const text = faq.textContent.toLowerCase();
      if (text.includes(term)) {
        matches.push({
          id: faq.dataset.id,
          title: faq.querySelector("h2").textContent.trim()
        });
      }
    });

    if (!matches.length) {
      resultsBox.textContent = `No results found for “${term}”.`;
      return;
    }

    const info = document.createElement("div");
    info.textContent = `Found ${matches.length} article(s):`;
    resultsBox.appendChild(info);

    const ul = document.createElement("ul");
    matches.forEach(m => {
      const li = document.createElement("li");
      const btn = document.createElement("button");
      btn.type = "button";
      btn.textContent = m.title;
      btn.addEventListener("click", () => {
        selectEl.value = m.id;
        showFaq(m.id);
        faqContainer.scrollIntoView({ behavior: "smooth", block: "start" });
      });
      li.appendChild(btn);
      ul.appendChild(li);
    });
    resultsBox.appendChild(ul);
  });
</script>

</body>
</html>
